<!--
  Generated template for the ModifyPwdPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>修改密码</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <form [formGroup]="myForm" (ngSubmit)="doModify()" novalidate>

  <ion-item *ngIf="isShowOldPwd">
    <ion-label fixed>{{ 'OLDPASSWORD' | translate }}</ion-label>
    <ion-input type="password" formControlName="oldPassword" [(ngModel)]="oldPassword"></ion-input>
  </ion-item>
  <ion-item class="error-message" *ngIf="myForm.controls.oldPassword.hasError('required') && myForm.controls.oldPassword.touched">
    <p>请输入原始密码</p>
  </ion-item>
  <ion-item class="error-message" *ngIf="(myForm.controls.oldPassword.hasError('minlength') || myForm.controls.oldPassword.hasError('maxlength')) && myForm.controls.oldPassword.touched">
    <p>请输入6到12位的原始密码</p>
  </ion-item>

  <ion-item>
    <ion-label fixed>{{ 'PASSWORD' | translate }}</ion-label>
    <input type="hidden" formControlName="id" [(ngModel)]="id"/>
    <ion-input type="password" formControlName="password" ></ion-input>
  </ion-item>
  <ion-item class="error-message" *ngIf="myForm.controls.password.hasError('required') && myForm.controls.password.touched">
    <p>请输入密码</p>
  </ion-item>
  <ion-item class="error-message" *ngIf="(myForm.controls.password.hasError('minlength') || myForm.controls.password.hasError('maxlength')) && myForm.controls.password.touched">
    <p>请输入6到12位的密码</p>
  </ion-item>

  <ion-item>
    <ion-label fixed>{{ 'PASSWORDAG' | translate }}</ion-label>
    <ion-input type="password"  formControlName="passwordAg"></ion-input>
  </ion-item>
  <ion-item class="error-message" *ngIf="myForm.controls.passwordAg.hasError('required') && myForm.controls.passwordAg.touched">
    <p>请输入确认密码</p>
  </ion-item>

  <div padding>
    <button ion-button color="primary" [disabled]="!myForm.valid" type="submit" block>{{ 'DONE_BUTTON' | translate }}</button>
  </div>
  </form>
</ion-content>
